
git clone https://github.com/volcengine/verl.git

1.将verl-recipe/retool/retool.py中的dataframe = dataframe.map(self.map_fn2, num_proc=16)改为dataframe = dataframe.map(self.map_fn2)
2.在verl/experimental/reward/reward_loop/dapo.py中添加：

        tool_extra_fields = data_item.non_tensor_batch.get("tool_extra_fields", None)
        if tool_extra_fields is not None:
            extra_info.update(tool_extra_fields.items())

        num_turns = data_item.non_tensor_batch.get("__num_turns__", None)
        rollout_reward_scores = data_item.non_tensor_batch.get("reward_scores", {})
        extra_info["num_turns"] = num_turns
        extra_info["rollout_reward_scores"] = rollout_reward_scores

curl  "http://10.110.137.235:8080/run_code"   -H 'Content-Type: application/json'   --data-raw '{"code": "print(\"Hello, world!\")", "language": "python"}'
curl  "http://10.110.134.100:8080/run_code"   -H 'Content-Type: application/json'   --data-raw '{"code": "print(\"Hello, world!\")", "language": "python"}'


1.fp16
RAY_ADDRESS='http://33.253.74.169:44390' \
ray job submit \
--runtime-env retool-fp16/qwen2.5_7b/fp16/runtime_env.yaml \
--working-dir . \
-- bash retool-fp16/qwen2.5_7b/fp16/test_dapo_2.5_7b_fsdp_fp16.sh

2.bf16
RAY_ADDRESS='http://33.253.158.82:44390' \
ray job submit \
--runtime-env retool-fp16/qwen2.5_7b/bf16/runtime_env.yaml \
--working-dir . \
-- bash retool-fp16/qwen2.5_7b/bf16/test_dapo_2.5_7b_fsdp_bf16.sh
